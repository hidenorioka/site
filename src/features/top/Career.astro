---
import Section from "./Section.astro";
import CareerSummary from "./CareerSummary.astro";

type CareerHistory = {
  name: string;
  start: string;
  end?: string;
  summary: string;
};

const CAREER_HISTORIES = [
  {
    name: "KINTOテクノロジーズ株式会社",
    start: "2025年07月",
    summary: "2025年7月より参画予定。",
  },
  {
    name: "GMOフィナンシャルホールディングス株式会社",
    start: "2023年11月",
    end: "2025年04月",
    summary:
      "医療プラットフォーム事業の新規立ち上げにおいて、Webアプリケーション開発メンバーとして参画。その後、医療クリニック・薬局向けシステムのWebフロントエンド開発リードを担当しました。",
  },
  {
    name: "株式会社ラクスパートナーズ",
    start: "2019年01月",
    end: "2023年10月",
    summary:
      "キャリア未経験からアプリケーションエンジニアとして入社。客先常駐で合計4社の開発チームに参画し、Webフロントエンドを中心にアプリケーション開発の内製化支援に取り組みました。",
  },
] as const satisfies CareerHistory[];
---

<Section heading="Career">
  <div class="relative">
    <ul class="relative">
      {
        CAREER_HISTORIES.map((history, index) => (
          <CareerSummary
            {...history}
            isLast={index === CAREER_HISTORIES.length - 1}
          />
        ))
      }
    </ul>
    <div
      class="absolute -left-4 -right-4 -top-6 -bottom-6 bg-gradient-to-b from-white dark:from-gray-900 to-transparent pointer-events-none opacity-20"
    >
    </div>
  </div>
</Section>

<style>
  ul {
    counter-reset: career;
  }

  li {
    counter-increment: career;
  }

  li::before {
    content: counter(career, decimal-leading-zero);
    position: absolute;
    left: -2rem;
    top: -0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
    color: #9ca3af;
    opacity: 0;
    transform: translateX(-1rem);
    transition: all 0.3s ease-in-out;
  }

  li:hover::before {
    opacity: 1;
    transform: translateX(0);
  }
</style>
